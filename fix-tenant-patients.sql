
ALTER TABLE tenant_miami.patients
ADD COLUMN IF NOT EXISTS middle_name VARCHAR(100),
ADD COLUMN IF NOT EXISTS name_suffix VARCHAR(20),
ADD COLUMN IF NOT EXISTS preferred_name VARCHAR(100),
ADD COLUMN IF NOT EXISTS gender VARCHAR(50),
ADD COLUMN IF NOT EXISTS race VARCHAR(50),
ADD COLUMN IF NOT EXISTS ethnicity VARCHAR(50),
ADD COLUMN IF NOT EXISTS marital_status VARCHAR(50),

ADD COLUMN IF NOT EXISTS phone_secondary VARCHAR(20),
ADD COLUMN IF NOT EXISTS phone_cell VARCHAR(20),
ADD COLUMN IF NOT EXISTS phone_work VARCHAR(20),
ADD COLUMN IF NOT EXISTS phone_preferred VARCHAR(20),
ADD COLUMN IF NOT EXISTS email_secondary VARCHAR(255),
ADD COLUMN IF NOT EXISTS preferred_language VARCHAR(50),
ADD COLUMN IF NOT EXISTS interpreter_needed BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS communication_preference VARCHAR(50),
ADD COLUMN IF NOT EXISTS consent_to_text BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS consent_to_email BOOLEAN DEFAULT false,

ADD COLUMN IF NOT EXISTS country VARCHAR(100) DEFAULT 'United States',
ADD COLUMN IF NOT EXISTS address_type VARCHAR(50) DEFAULT 'Home',

ADD COLUMN IF NOT EXISTS employment_status VARCHAR(50),
ADD COLUMN IF NOT EXISTS occupation VARCHAR(255),
ADD COLUMN IF NOT EXISTS employer_name VARCHAR(255),

ADD COLUMN IF NOT EXISTS emergency_contact_name VARCHAR(255),
ADD COLUMN IF NOT EXISTS emergency_contact_phone VARCHAR(20),
ADD COLUMN IF NOT EXISTS emergency_contact_relationship VARCHAR(100),
ADD COLUMN IF NOT EXISTS emergency_contact_address TEXT,
ADD COLUMN IF NOT EXISTS emergency_contact_2_name VARCHAR(255),
ADD COLUMN IF NOT EXISTS emergency_contact_2_phone VARCHAR(20),
ADD COLUMN IF NOT EXISTS emergency_contact_2_relationship VARCHAR(100),

ADD COLUMN IF NOT EXISTS insurance_group_number VARCHAR(100),
ADD COLUMN IF NOT EXISTS insurance_plan_name VARCHAR(255),
ADD COLUMN IF NOT EXISTS insurance_plan_type VARCHAR(100),
ADD COLUMN IF NOT EXISTS insurance_subscriber_name VARCHAR(255),
ADD COLUMN IF NOT EXISTS insurance_subscriber_dob DATE,
ADD COLUMN IF NOT EXISTS insurance_subscriber_relationship VARCHAR(50),
ADD COLUMN IF NOT EXISTS insurance_copay VARCHAR(50),
ADD COLUMN IF NOT EXISTS insurance_effective_date DATE,
ADD COLUMN IF NOT EXISTS insurance_expiry_date DATE,
ADD COLUMN IF NOT EXISTS insurance_notes TEXT,

ADD COLUMN IF NOT EXISTS pharmacy_npi VARCHAR(20),
ADD COLUMN IF NOT EXISTS pharmacy_fax VARCHAR(20),
ADD COLUMN IF NOT EXISTS pharmacy_preferred BOOLEAN DEFAULT false,

ADD COLUMN IF NOT EXISTS referral_source VARCHAR(255),
ADD COLUMN IF NOT EXISTS smoking_status VARCHAR(50),
ADD COLUMN IF NOT EXISTS alcohol_use VARCHAR(50),
ADD COLUMN IF NOT EXISTS allergies_known BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS notes TEXT,
ADD COLUMN IF NOT EXISTS deceased BOOLEAN DEFAULT false,
ADD COLUMN IF NOT EXISTS deceased_date DATE,

ADD COLUMN IF NOT EXISTS encryption_metadata TEXT,
ADD COLUMN IF NOT EXISTS clinic_id UUID;
